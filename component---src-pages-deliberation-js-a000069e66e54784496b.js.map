{"version":3,"sources":["webpack:///./node_modules/react-bootstrap/esm/Table.js","webpack:///./src/components/Deliberation/SecondRound.js","webpack:///./src/components/Deliberation/FeedbackPage.js","webpack:///./src/components/Deliberation/QuestionDisplay.js","webpack:///./src/components/Deliberation/ApplicationDisplay.js","webpack:///./src/components/Deliberation/InterviewerView.js","webpack:///./src/components/Deliberation/ApplicantView.js","webpack:///./src/pages/deliberation.js","webpack:///./node_modules/immutability-helper/index.js"],"names":["_excluded","forwardRef","_ref","ref","bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive","props","decoratedBsPrefix","classes","table","createElement","responsiveClass","SecondRound","state","showModal","currentApplicationId","currentMeetingStatus","currentContributionStatus","currentName","render","this","applications","settings","provisionalMemberApplications","filter","app","hasOwnProperty","ApplicantStatus","provisional","contribution","meetings","name","uid","style","color","fontStyle","fontWeight","deliberationsOpen","onClick","setState","cursor","map","application","key","paddingTop","paddingRight","paddingBottom","paddingLeft","readyRoundTwo","Modal","show","onHide","Header","closeButton","Title","Body","Form","Group","Label","Check","custom","checked","type","label","id","onChange","e","target","Footer","saveSecondRoundStatus","Component","withAuthorization","isAdmin","FeedbackPage","currentFeedback","deliberation","votes","feedback","allVotes","Object","values","positiveVotes","vote","length","negativeVotes","accepted","marginTop","sendResults","controlId","Control","as","rows","value","saveFeedback","StyledP","styled","p","StyledButton","Button","QuestionDisplay","description","answer","image","scores","interviewers","level","classYear","useState","showDetails","setShowDetails","InterviewersData","Row","entries","i","score","note","Col","QuestionDetails","hasIMG","padding","src","alt","Content","general","marginBottom","flexdirection","ApplicationDisplay","memo","interview","responses","questions","semester","levelConfig","voteApplicant","find","r","levelQuestions","augmentedQuestions","order","forEach","question","q","push","interviewerA","interviewerB","notes","Response","flexGrow","width","height","title","position","pFontSize","pMaxWidth","pTextAlign","response","margin","background","alignItems","justifyContent","sort","a","b","undefined","green","SidebarBase","ul","SidebarItem","li","selected","DetailsDisplay","InterviewerView","_initFirebase","currentApplicationID","currentApplication","loading","error","display","unsubApplications","loadData","cachedApplicationID","window","localStorage","getItem","firebase","get","then","querySnapshot","docs","doc","data","exists","Promise","resolve","reject","resolveOnce","interviewedApplicants","onSnapshot","fallBack","setCurrentApplication","setItem","decision","updatedApplication","cloneDeep","context","update","swal","catch","err","console","applicationId","text","icon","buttons","cancel","visible","confirm","batch","firestore","commit","reduce","prev","cur","appsWithResult","updateData","useTwoRoundDeliberations","$set","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","Error","message","Loader","authUser","TextDisplay","displayBack","Sidebar","fluid","contextType","AuthUserContext","compose","withSettings","isMember","withFirebase","DataForm","submitFunction","firstName","file","profileIMG","twitter","facebook","github","linkedin","formData","setFormData","validated","setValidated","updateField","noValidate","onSubmit","preventDefault","form","currentTarget","Array","from","querySelectorAll","fileUpload","files","setCustomValidity","setFileValidity","checkValidity","stopPropagation","File","accept","fileName","split","required","placeholder","isApplicant","setApplication","loadedApplication","setLoadedApplication","useContext","useEffect","applicationUnsub","docSnapshot","log","roles","nonmember","provisionalMember","user","applicant","upemember","gradYear","delete","navigate","submitData","socials","uploadProfile","put","interviewed","confirmed","ResultText","h2MarginTop","stringifiable","obj","prototype","toString","call","slice","defineProperty","exports","isProduction","process","invariant","condition","splice","assign","source","getAllKeys","getOwnPropertySymbols","keys","concat","copy","object","isArray","constructor","Map","Set","create","getPrototypeOf","Context","commands","defaultCommands","bind","extend","isEquals","x","y","newContext","set","enumerable","configurable","directive","fn","$spec","_this","spec","$apply","join","nextObject","objectWasNextObject","nextValueForKey","nextObjectValue","$push","invariantPushAndUnshift","$unshift","$splice","originalObject","invariantSplice","invariantSplices","args","apply","_nextObject","invariantSet","$toggle","targets","invariantSpecArray","nextObjectCopy","$unset","_spec","$add","invariantMapOrSet","_a","has","add","$remove","$merge","specValue","original","defaultContext","command","typeOfTarget","default","module"],"mappings":"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","file":"component---src-pages-deliberation-js-a000069e66e54784496b.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;","import React, { Component } from \"react\";\n\nimport Table from \"react-bootstrap/Table\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\n\nimport { withAuthorization } from \"upe-react-components\";\n\nimport { isAdmin } from \"../../util/conditions\";\nimport { BackIcon } from \"../TextDisplay\";\nimport { Wrapper, Title, StyledButton } from \"../../styles/global\";\n\nclass SecondRound extends Component {\n  state = {\n    showModal: false,\n    currentApplicationId: null,\n    currentMeetingStatus: false,\n    currentContributionStatus: false,\n    currentName: \"\",\n  };\n\n  render() {\n    const { applications, settings } = this.props;\n\n    const provisionalMemberApplications = applications.filter((app) =>\n      app.hasOwnProperty(\"provisional\")\n    );\n\n    const {\n      showModal,\n      currentApplicationId,\n      currentContributionStatus,\n      currentMeetingStatus,\n      currentName,\n    } = this.state;\n\n    const ApplicantStatus = ({\n      provisional: { contribution, meetings },\n      name,\n      uid,\n    }) => (\n      <tr>\n        <td>{name}</td>\n        <td\n          style={{\n            color: contribution ? \"green\" : \"red\",\n            fontStyle: contribution ? \"none\" : \"italic\",\n            fontWeight: contribution ? \"bold\" : \"none\",\n          }}\n        >\n          {contribution ? \"Complete\" : \"Not Complete\"}\n        </td>\n        <td\n          style={{\n            color: meetings ? \"green\" : \"red\",\n            fontStyle: meetings ? \"none\" : \"italic\",\n            fontWeight: meetings ? \"bold\" : \"none\",\n          }}\n        >\n          {meetings ? \"Complete\" : \"Not Complete\"}\n        </td>\n        {!settings.deliberationsOpen && (\n          <td\n            onClick={() =>\n              this.setState({\n                showModal: true,\n                currentApplicationId: uid,\n                currentContributionStatus: contribution,\n                currentMeetingStatus: meetings,\n                currentName: name,\n              })\n            }\n            style={{ cursor: \"pointer\" }}\n          >\n            Edit Status\n          </td>\n        )}\n      </tr>\n    );\n\n    return (\n      <>\n        <BackIcon />\n        <Title>\n          <h1> Second Round Status </h1>\n        </Title>\n        <Wrapper>\n          <Table bordered hover>\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Contribution Status</th>\n                <th>Meetings Status</th>\n                {!settings.deliberationsOpen && <th>Edit</th>}\n              </tr>\n            </thead>\n            <tbody>\n              {provisionalMemberApplications.map((application) => (\n                <ApplicantStatus key={application.uid} {...application} />\n              ))}\n            </tbody>\n          </Table>\n\n          {!settings.deliberationsOpen && (\n            <StyledButton\n              paddingTop={\"0.5%\"}\n              paddingRight={\"2%\"}\n              paddingBottom={\"0.5%\"}\n              paddingLeft={\"2%\"}\n              onClick={this.props.readyRoundTwo}\n            >\n              Open Round Two\n            </StyledButton>\n          )}\n\n          <Modal\n            show={showModal}\n            onHide={() => this.setState({ showModal: false })}\n          >\n            <Modal.Header closeButton>\n              <Modal.Title>{currentName}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Form>\n                <Form.Group>\n                  <Form.Label>Contribution</Form.Label>\n                  <Form.Check\n                    custom\n                    checked={currentContributionStatus}\n                    type=\"switch\"\n                    label={\n                      <span>\n                        Applicant has{\" \"}\n                        {currentContributionStatus\n                          ? \"completed\"\n                          : \"not completed\"}{\" \"}\n                        their contribution\n                      </span>\n                    }\n                    id=\"contributionToggle\"\n                    onChange={(e) =>\n                      this.setState({\n                        currentContributionStatus: e.target.checked,\n                      })\n                    }\n                  />\n                </Form.Group>\n                <Form.Group>\n                  <Form.Label>Meetings</Form.Label>\n                  <Form.Check\n                    custom\n                    checked={currentMeetingStatus}\n                    type=\"switch\"\n                    label={\n                      <span>\n                        Applicant has{\" \"}\n                        {currentMeetingStatus ? \"completed\" : \"not completed\"}{\" \"}\n                        their meetings\n                      </span>\n                    }\n                    id=\"meetingToggle\"\n                    onChange={(e) =>\n                      this.setState({\n                        currentMeetingStatus: e.target.checked,\n                      })\n                    }\n                  />\n                </Form.Group>\n              </Form>\n            </Modal.Body>\n            <Modal.Footer>\n              <StyledButton\n                paddingTop={\"0.5%\"}\n                paddingRight={\"2%\"}\n                paddingBottom={\"0.5%\"}\n                paddingLeft={\"2%\"}\n                onClick={() => this.setState({ showModal: false })}\n              >\n                Cancel\n              </StyledButton>\n              <StyledButton\n                paddingTop={\"0.5%\"}\n                paddingRight={\"2%\"}\n                paddingBottom={\"0.5%\"}\n                paddingLeft={\"2%\"}\n                onClick={() =>\n                  this.props.saveSecondRoundStatus(\n                    currentApplicationId,\n                    currentMeetingStatus,\n                    currentContributionStatus\n                  )\n                }\n              >\n                Save\n              </StyledButton>\n            </Modal.Footer>\n          </Modal>\n        </Wrapper>\n      </>\n    );\n  }\n}\n\nexport default withAuthorization(isAdmin)(SecondRound);\n","import React, { Component } from \"react\";\n\nimport Table from \"react-bootstrap/Table\";\nimport Modal from \"react-bootstrap/Modal\";\nimport Form from \"react-bootstrap/Form\";\n\nimport { withAuthorization } from \"upe-react-components\";\n\nimport { isAdmin } from \"../../util/conditions\";\nimport { BackIcon } from \"../TextDisplay\";\n\nimport { Wrapper, Title, StyledButton } from \"../../styles/global\";\n\nclass FeedbackPage extends Component {\n  state = {\n    showModal: false,\n    currentApplicationId: null,\n    currentFeedback: \"\",\n    currentName: \"\",\n  };\n\n  render() {\n    const { applications, settings } = this.props;\n    const { showModal, currentApplicationId, currentFeedback, currentName } =\n      this.state;\n\n    const ApplicantStatus = ({\n      deliberation: { votes, feedback },\n      name,\n      uid,\n    }) => {\n      const allVotes = Object.values(votes);\n      const positiveVotes = allVotes.filter((vote) => !!vote).length;\n      const negativeVotes = allVotes.filter((vote) => !vote).length;\n      const accepted = positiveVotes / allVotes.length >= 0.75;\n      return (\n        <tr>\n          <td>{name}</td>\n          <td>\n            +{positiveVotes}\n            /-\n            {negativeVotes}\n          </td>\n          <td\n            style={{\n              color: accepted ? \"green\" : \"red\",\n              fontStyle: accepted ? \"none\" : \"italic\",\n              fontWeight: accepted ? \"bold\" : \"none\",\n            }}\n          >\n            {accepted ? \"Accepted\" : \"Not Accepted\"}\n          </td>\n          {!settings.deliberationsOpen && (\n            <>\n              {accepted ? (\n                <td style={{ fontStyle: \"italic\" }}>N/A</td>\n              ) : (\n                <td\n                  onClick={() =>\n                    this.setState({\n                      showModal: true,\n                      currentApplicationId: uid,\n                      currentFeedback: feedback,\n                      currentName: name,\n                    })\n                  }\n                  style={{\n                    cursor: \"pointer\",\n                    fontWeight: \"bold\",\n                    color: feedback === \"\" ? \"#f21131\" : \"black\",\n                  }}\n                >\n                  {feedback === \"\" ? \"Add\" : \"Edit\"} Feedback\n                </td>\n              )}\n            </>\n          )}\n        </tr>\n      );\n    };\n\n    return (\n      <>\n        <BackIcon />\n        <Title>\n          <h1> Applicant Feedback </h1>\n        </Title>\n        <Wrapper>\n          <Table bordered hover>\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Votes</th>\n                <th>Status</th>\n                {!settings.deliberationsOpen && <th>Feedback</th>}\n              </tr>\n            </thead>\n            <tbody>\n              {applications.map((application) => (\n                <ApplicantStatus key={application.uid} {...application} />\n              ))}\n            </tbody>\n          </Table>\n\n          {!settings.deliberationsOpen && (\n            <StyledButton\n              paddingTop={\"0.5%\"}\n              paddingRight={\"2%\"}\n              paddingBottom={\"0.5%\"}\n              paddingLeft={\"2%\"}\n              style={{ marginTop: \"1%\" }}\n              onClick={this.props.sendResults}\n            >\n              Send Results\n            </StyledButton>\n          )}\n\n          <Modal\n            show={showModal}\n            onHide={() => this.setState({ showModal: false })}\n          >\n            <Modal.Header closeButton>\n              <Modal.Title>{currentName}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              <Form>\n                <Form.Group controlId=\"exampleForm.ControlTextarea1\">\n                  <Form.Label>Feedback</Form.Label>\n                  <Form.Control\n                    as=\"textarea\"\n                    rows=\"3\"\n                    value={currentFeedback}\n                    onChange={(e) =>\n                      this.setState({ currentFeedback: e.target.value })\n                    }\n                  />\n                </Form.Group>\n              </Form>\n            </Modal.Body>\n            <Modal.Footer>\n              <StyledButton\n                paddingTop={\"0.5%\"}\n                paddingRight={\"2%\"}\n                paddingBottom={\"0.5%\"}\n                paddingLeft={\"2%\"}\n                onClick={() => this.setState({ showModal: false })}\n              >\n                Cancel\n              </StyledButton>\n              <StyledButton\n                paddingTop={\"0.5%\"}\n                paddingRight={\"2%\"}\n                paddingBottom={\"0.5%\"}\n                paddingLeft={\"2%\"}\n                onClick={() =>\n                  this.props.saveFeedback(currentApplicationId, currentFeedback)\n                }\n              >\n                Save\n              </StyledButton>\n            </Modal.Footer>\n          </Modal>\n        </Wrapper>\n      </>\n    );\n  }\n}\n\nexport default withAuthorization(isAdmin)(FeedbackPage);\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\n\nimport { Container } from \"../../styles/global\";\n\nconst StyledP = styled.p`\n  white-space: pre-wrap;\n`;\n\nconst StyledButton = styled(Button)`\n  text-decoration: none;\n  color: #ffffff;\n  background-color: #f21131;\n  border: none;\n  font-size: 20px;\n  font-weight: bold;\n  padding: 0.5% 25% 0.5% 25%;\n  margin-top: 1%;\n  &:hover,\n  &:focus,\n  &:active,\n  &:visited,\n  &:disabled {\n    text-decoration: none;\n    color: #ffffff;\n    background-color: #600613;\n    border: none;\n  }\n`;\n\nconst QuestionDisplay = ({\n  uid,\n  name,\n  description,\n  answer,\n  image,\n  scores,\n  interviewers,\n  level,\n  classYear,\n}) => {\n  const [showDetails, setShowDetails] = useState(false);\n\n  const InterviewersData = () => {\n    return (\n      <Row>\n        {Object.entries(interviewers).map(([uid, { score, note }], i) => (\n          <Col key={uid}>\n            <h4>Interviewer {i + 1}</h4>\n            <h5>Score</h5>\n            <p>{score}</p>\n            <h5>Notes</h5>\n            <StyledP>{note}</StyledP>\n          </Col>\n        ))}\n      </Row>\n    );\n  };\n\n  const QuestionDetails = () => {\n    const hasIMG = image !== \"\";\n    return (\n      <>\n        <Col style={{ padding: 0 }}>\n          <h5>Description</h5>\n          {hasIMG && <img src={image} alt={name} />}\n          <StyledP>{description}</StyledP>\n        </Col>\n        <Col style={{ padding: 0 }}>\n          <h5>Answer</h5>\n          <StyledP>{answer}</StyledP>\n        </Col>\n      </>\n    );\n  };\n\n  let Content = () => null;\n  if (uid !== \"resume\" && uid !== \"finalNotes\") {\n    Content = () => (\n      <>\n        <Row>\n          <Col>\n            <h4>General Average</h4>\n            <p>{scores?.general || \"N/A\"}</p>\n          </Col>\n          <Col>\n            <h4>Class Average</h4>\n            <p>{scores?.[classYear] || \"N/A\"}</p>\n          </Col>\n          <Col>\n            <h4>Level Average</h4>\n            <p>{scores?.[level] || \"N/A\"}</p>\n          </Col>\n        </Row>\n\n        <StyledButton\n          paddingTop={\"0.5%\"}\n          paddingBottom={\"0.5%\"}\n          style={{ marginBottom: 20 }}\n          onClick={() => setShowDetails(!showDetails)}\n        >\n          {showDetails ? \"▲ Hide\" : \"▼ Show\"} Details\n        </StyledButton>\n        {showDetails && <QuestionDetails />}\n      </>\n    );\n  }\n\n  return (\n    <Container flexdirection=\"column\">\n      <h3>{name}</h3>\n      <InterviewersData />\n      <Content />\n    </Container>\n  );\n};\n\nexport default QuestionDisplay;\n","import React, { Fragment, memo } from \"react\";\n\nimport Row from \"react-bootstrap/Row\";\n\nimport QuestionDisplay from \"./QuestionDisplay\";\nimport { BackIcon } from \"../TextDisplay\";\nimport { Wrapper, Title, StyledButton, Text } from \"../../styles/global\";\n\nconst ApplicationDisplay = memo(\n  ({\n    uid,\n    vote,\n    interview,\n    responses,\n    name,\n    semester,\n    questions,\n    levelConfig,\n    voteApplicant,\n    provisional,\n  }) => {\n    const { level } = interview;\n    const classYear = responses.find((r) => r.uid === \"year\").value;\n    const levelQuestions = levelConfig[level];\n    let augmentedQuestions = [\n      {\n        uid: \"resume\",\n        name: \"Resume\",\n        order: 0,\n      },\n      {\n        uid: \"finalNotes\",\n        name: \"Final Notes\",\n        order: levelQuestions.length + 1,\n      },\n    ];\n\n    levelQuestions.forEach(({ uid, order }) => {\n      const question = questions.find((q) => q.uid === uid);\n      augmentedQuestions.push({ ...question, order: order + 1 });\n    });\n\n    const interviewers = Object.entries(interview.interviewers).map(\n      ([uid, name]) => ({ uid, name })\n    );\n\n    augmentedQuestions = augmentedQuestions.map((question) => {\n      const [interviewerA, interviewerB] = interviewers;\n      return {\n        ...question,\n        interviewers: {\n          [interviewerA.uid]: {\n            score: interview.scores[interviewerA.uid][question.uid],\n            note: interview.notes[interviewerA.uid][question.uid],\n          },\n          [interviewerB.uid]: {\n            score: interview.scores[interviewerB.uid][question.uid],\n            note: interview.notes[interviewerB.uid][question.uid],\n          },\n        },\n      };\n    });\n\n    const Response = ({ type, name, value }) => {\n      let Content = () => <p>{value !== \"\" ? value : \"N/A\"}</p>;\n      const style = {\n        flexGrow: 1,\n        paddingLeft: \"3%\",\n      };\n\n      // eslint-disable-next-line default-case\n      switch (type) {\n        case \"file\":\n          style.width = \"100%\";\n          Content = () => (\n            <embed\n              src={value}\n              width=\"100%\"\n              height=\"500\"\n              type=\"application/pdf\"\n              title={name}\n              style={{ marginBottom: \"2%\" }}\n            />\n          );\n          break;\n        case \"textarea\":\n          style.width = \"100%\";\n          break;\n        case \"yesno\":\n          Content = () => <p>{value ? \"Yes\" : \"No\"}</p>;\n          break;\n      }\n\n      if (\n        provisional &&\n        name !== \"Full Name\" &&\n        name !== \"Email\" &&\n        name !== \"Major\" &&\n        name !== \"Minor\" &&\n        name !== \"Class Year\"\n      )\n        return null;\n\n      return (\n        <div style={style}>\n          <h4>{name}</h4>\n          <Content />\n        </div>\n      );\n    };\n\n    return (\n      <>\n        <BackIcon />\n        <Title>\n          <h1> Applicant Overview </h1>\n        </Title>\n        <Wrapper>\n          <Text\n            paddingTop={\"0px\"}\n            paddingBottom={\"0px\"}\n            position={\"left\"}\n            pFontSize={\"15px\"}\n            pMaxWidth={\"100%\"}\n            pTextAlign={\"left\"}\n          >\n            <Row>\n              <h2>Application Responses</h2>\n            </Row>\n            <Row>\n              {responses.map((response) => (\n                <Response key={response.uid} {...response} />\n              ))}\n            </Row>\n          </Text>\n\n          <hr\n            style={{ width: \"100%\", margin: \"30px 0\", background: \"black\" }}\n          />\n          {provisional ? (\n            <Text\n              paddingTop={\"0px\"}\n              paddingBottom={\"0px\"}\n              position={\"left\"}\n              pFontSize={\"15px\"}\n              pMaxWidth={\"100%\"}\n              pTextAlign={\"left\"}\n            >\n              <Row\n                style={{\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                }}\n              >\n                <h2>Provisional Period Status</h2>\n              </Row>\n              <Row\n                style={{\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                  paddingLeft: \"3%\",\n                }}\n              >\n                <div>\n                  <h4>Meeting Requirement</h4>\n                  <p>{provisional.meetings ? \"Completed\" : \"Not Completed\"}</p>\n                </div>\n                <div>\n                  <h4>Contribution Requirement</h4>\n                  <p>\n                    {provisional.contribution ? \"Completed\" : \"Not Completed\"}\n                  </p>\n                </div>\n              </Row>\n            </Text>\n          ) : (\n            <Text\n              paddingTop={\"0px\"}\n              paddingBottom={\"0px\"}\n              position={\"left\"}\n              pFontSize={\"15px\"}\n              pMaxWidth={\"100%\"}\n              pTextAlign={\"left\"}\n            >\n              <Row\n                style={{\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                }}\n              >\n                <h2>Interview Details</h2>\n                <h2>\n                  Level: <span>{interview.level}</span>\n                </h2>\n              </Row>\n              <Row>\n                {augmentedQuestions\n                  .sort((a, b) => (a.order > b.order ? 1 : -1))\n                  .map((question, i) => (\n                    <Fragment key={question.uid}>\n                      <QuestionDisplay\n                        level={level}\n                        classYear={classYear}\n                        {...question}\n                      />\n                      {i < augmentedQuestions.length - 1 && (\n                        <hr style={{ width: \"100%\", margin: \"30px 0\" }} />\n                      )}\n                    </Fragment>\n                  ))}\n              </Row>\n            </Text>\n          )}\n\n          <hr\n            style={{ width: \"100%\", margin: \"30px 0\", background: \"black\" }}\n          />\n          <Text\n            paddingTop={\"0px\"}\n            paddingBottom={\"0px\"}\n            position={\"left\"}\n            pFontSize={\"15px\"}\n            pMaxWidth={\"100%\"}\n            pTextAlign={\"left\"}\n          >\n            <Row\n              style={{\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                marginBottom: 25,\n              }}\n            >\n              <h2>Deliberation</h2>\n              <h3 style={{ color: !!vote ? \"#008000\" : \"#f21131\" }}>\n                {vote !== undefined\n                  ? `You voted to ${vote ? \"Accept\" : \"Deny\"}!`\n                  : \"You haven't voted yet!\"}\n              </h3>\n            </Row>\n            <Row\n              style={{\n                alignItems: \"center\",\n                justifyContent: \"space-between\",\n                marginBottom: 30,\n              }}\n            >\n              <StyledButton\n                paddingTop={\"0.5%\"}\n                paddingRight={\"2%\"}\n                paddingBottom={\"0.5%\"}\n                paddingLeft={\"2%\"}\n                green\n                onClick={() => voteApplicant(true)}\n              >\n                Accept\n              </StyledButton>\n              <StyledButton\n                paddingTop={\"0.5%\"}\n                paddingRight={\"2%\"}\n                paddingBottom={\"0.5%\"}\n                paddingLeft={\"2%\"}\n                onClick={() => voteApplicant(false)}\n              >\n                Deny\n              </StyledButton>\n            </Row>\n          </Text>\n        </Wrapper>\n      </>\n    );\n  }\n);\n\nexport default ApplicationDisplay;\n","import React, { Component } from \"react\";\nimport { compose } from \"recompose\";\nimport swal from \"@sweetalert/with-react\";\nimport styled from \"styled-components\";\nimport cloneDeep from \"lodash.clonedeep\";\nimport update from \"immutability-helper\";\n\nimport Col from \"react-bootstrap/Col\";\n\nimport {\n  AuthUserContext,\n  withFirebase,\n  withAuthorization,\n} from \"upe-react-components\";\nimport { withSettings } from \"../API/SettingsContext\";\n\nimport { isMember, isAdmin } from \"../../util/conditions\";\nimport Loader from \"../Loader\";\nimport Error from \"../Error\";\nimport SecondRound from \"./SecondRound\";\nimport FeedbackPage from \"./FeedbackPage\";\nimport ApplicationDisplay from \"./ApplicationDisplay\";\nimport { FullSizeContainer, Title, Text } from \"../../styles/global\";\nimport TextDisplay, { BackIcon } from \"../TextDisplay\";\n\nconst SidebarBase = styled.ul`\n  font-family: Georgia;\n  text-align: center;\n  max-width: 300px;\n  padding: 15px;\n  background: #333333;\n  list-style: none;\n  margin-left: 1%;\n  margin-right: 1%;\n  border-radius: 25px;\n\n  h1 {\n    color: white;\n    font-style: italic;\n    font-weight: bold;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    border-bottom: 1px solid grey;\n    font-size: 27px;\n  }\n\n  hr {\n    border-bottom: 1px solid grey;\n  }\n`;\n\nconst SidebarItem = styled.li`\n  color: ${(props) => (props.selected ? \"#f21131\" : \"white\")};\n  font-weight: bold;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  cursor: pointer;\n\n  &:hover {\n    color: #f21131;\n    text-decoration: underline;\n  }\n`;\n\nconst DetailsDisplay = () => (\n  <div>\n    <BackIcon />\n    <Title>\n      <h1> Welcome to Deliberations! </h1>\n    </Title>\n    <Text\n      paddingLeft={\"7%\"}\n      paddingRight={\"7%\"}\n      pFontSize={\"15px\"}\n      pTextAlign={\"left\"}\n      pMaxWidth={\"50%\"}\n      position={\"left\"}\n    >\n      <p>\n        {\" \"}\n        Please read the instructions bellow carefully before proceeding to\n        deliberate on all the candidates.{\" \"}\n      </p>\n\n      <h3> How to Vote </h3>\n      <p>\n        {\" \"}\n        In order to vote, select one of the candidates from the sidebar, and\n        proceed to review their application, in it, you'll be able to see not\n        only their general application, but also the details of their interview.{\" \"}\n      </p>\n      <p>\n        {\" \"}\n        After reviewing their application, you'll find two buttons at the\n        bottom, approve & deny, you only get 1 vote per candidate, although you\n        will be able to switch your vote until the deliberations close.{\" \"}\n      </p>\n\n      <h3> Final Details </h3>\n      <p>\n        {\" \"}\n        You will not be able to see anyone else's votes of the final results\n        until the EBoard announces them.{\" \"}\n      </p>\n    </Text>\n  </div>\n);\n\nclass InterviewerView extends Component {\n  _initFirebase = false;\n  state = {\n    applications: [],\n    currentApplicationID: \"details\",\n    currentApplication: null,\n    loading: true,\n    error: null,\n    display: null,\n  };\n  static contextType = AuthUserContext;\n  unsubApplications = null;\n\n  componentDidMount() {\n    if (this.props.firebase && !this._initFirebase) this.loadData();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.firebase && !this._initFirebase) this.loadData();\n  }\n\n  componentWillUnmount() {\n    if (typeof this.unsubApplications === \"function\") this.unsubApplications();\n  }\n\n  loadData = async () => {\n    this._initFirebase = true;\n\n    const initialApplication = \"details\";\n    const cachedApplicationID = window.localStorage.getItem(\n      \"currentApplicationDeliberation\"\n    );\n\n    const currentApplicationID = cachedApplicationID || initialApplication;\n\n    const questions = await this.props.firebase\n      .questions()\n      .get()\n      .then((querySnapshot) =>\n        querySnapshot.docs.map((doc) => ({\n          ...doc.data(),\n          uid: doc.id,\n        }))\n      );\n\n    const levelConfig = await this.props.firebase\n      .levelConfig()\n      .get()\n      .then((doc) => {\n        if (!doc.exists) {\n          this.setState({ error: \"LevelConfig does not exist!\" });\n          return {};\n        }\n        return doc.data();\n      });\n\n    const applications = await new Promise((resolve, reject) => {\n      let resolveOnce = (doc) => {\n        resolveOnce = () => null;\n        resolve(doc);\n      };\n      this.unsubApplications = this.props.firebase\n        .interviewedApplicants()\n        .onSnapshot((querySnapshot) => {\n          const applications = querySnapshot.docs.map((doc) => {\n            const application = doc.data();\n            return {\n              uid: doc.id,\n              ...application,\n              name: application.responses.find((r) => r.uid === \"name\").value,\n            };\n          });\n          this.setState({ applications });\n          resolveOnce(applications);\n\n          if (\n            currentApplicationID !== null &&\n            currentApplicationID !== undefined\n          ) {\n            const fallBack =\n              currentApplicationID === \"admin\" ||\n              currentApplicationID === \"secondRound\"\n                ? currentApplicationID\n                : \"details\";\n            this.setCurrentApplication(\n              applications.find((a) => a.uid === currentApplicationID) ||\n                fallBack\n            );\n          }\n        }, reject);\n    });\n\n    this.setState({\n      applications,\n      questions,\n      levelConfig,\n      currentApplicationID,\n      loading: false,\n    });\n  };\n\n  setCurrentApplication = (currentApplication) => {\n    const currentApplicationID =\n      typeof currentApplication === \"object\" && currentApplication !== null\n        ? currentApplication.uid\n        : currentApplication;\n    window.localStorage.setItem(\n      \"currentApplicationDeliberation\",\n      currentApplicationID\n    );\n    this.setState({ currentApplication, currentApplicationID });\n  };\n\n  voteApplicant = (decision) => {\n    const { currentApplication } = this.state;\n    const updatedApplication = cloneDeep(currentApplication);\n    delete updatedApplication.uid;\n    updatedApplication.deliberation.votes[this.context.uid] = decision;\n\n    this.props.firebase\n      .application(currentApplication.uid)\n      .update(updatedApplication)\n      .then(() =>\n        swal(\n          \"You voted!\",\n          `You chose to ${decision ? \"accept\" : \"deny\"}. Nice.`,\n          \"success\"\n        )\n      )\n      .catch((err) => console.error(err));\n  };\n\n  saveFeedback = async (applicationId, feedback) =>\n    await this.props.firebase.application(applicationId).update({\n      \"deliberation.feedback\": feedback,\n    });\n\n  saveSecondRoundStatus = async (\n    applicationId,\n    currentMeetingStatus,\n    currentContributionStatus\n  ) =>\n    await this.props.firebase.application(applicationId).update({\n      \"provisional.meetings\": currentMeetingStatus,\n      \"provisional.contribution\": currentContributionStatus,\n    });\n\n  readyRoundTwo = () =>\n    swal({\n      title: \"Hold up!\",\n      text: \"If you press Yes, you're going to open the second round of deliberation, which will commit significant changes to the database! Are you sure?\",\n      icon: \"warning\",\n      buttons: {\n        cancel: {\n          text: \"No\",\n          value: false,\n          visible: true,\n        },\n        confirm: {\n          text: \"Yes\",\n          value: true,\n          visible: true,\n        },\n      },\n    }).then((confirm) => {\n      if (confirm) {\n        const batch = this.props.firebase.firestore.batch();\n        this.state.applications.forEach((application) => {\n          const ref = this.props.firebase.application(application.uid);\n          batch.update(ref, {\n            \"deliberation.accepted\": false,\n            \"deliberation.confirmed\": false,\n            \"deliberation.feedback\": \"\",\n          });\n        });\n        batch.commit();\n      }\n    });\n\n  sendResults = () =>\n    swal({\n      title: \"Hold up!\",\n      text: \"If you press Yes, you're going to send emails to all the applicants with their results. If you haven't filled out feedback for everyone, this will be bad!\",\n      icon: \"warning\",\n      buttons: {\n        cancel: {\n          text: \"No\",\n          value: false,\n          visible: true,\n        },\n        confirm: {\n          text: \"Yes\",\n          value: true,\n          visible: true,\n        },\n      },\n    }).then((confirm) => {\n      if (confirm) {\n        const everyoneHasFeedback = this.state.applications\n          .map(({ deliberation: { feedback, votes } }) => {\n            const allVotes = Object.values(votes);\n            const positiveVotes = allVotes.filter((vote) => !!vote).length;\n            const accepted = positiveVotes / allVotes.length >= 0.75;\n            return accepted || feedback !== \"\";\n          })\n          .reduce((prev, cur) => prev && cur);\n\n        if (everyoneHasFeedback) {\n          // Update everyone's accepted status\n          // Get a new write batch\n          const batch = this.props.firebase.firestore.batch();\n          const appsWithResult = this.state.applications.map((application) => {\n            const {\n              uid,\n              deliberation: { votes },\n            } = application;\n            const allVotes = Object.values(votes);\n            const positiveVotes = allVotes.filter((vote) => !!vote).length;\n            const accepted = positiveVotes / allVotes.length >= 0.75;\n            if (accepted) {\n              const updateData = {\n                \"deliberation.accepted\": true,\n                \"deliberation.votes\": {},\n              };\n\n              if (this.props.settings.useTwoRoundDeliberations) {\n                updateData.provisional = {\n                  meetings: false,\n                  contribution: false,\n                };\n              }\n\n              const ref = this.props.firebase.application(uid);\n              batch.update(ref, updateData);\n            }\n\n            const newApp = update(application, {\n              deliberation: { accepted: { $set: accepted } },\n            });\n\n            return newApp;\n          });\n\n          // Commit the batch\n          batch.commit().then(() => {\n            /* eslint-disable no-unused-vars */\n            const accepted = appsWithResult.filter(\n              (app) => app.deliberation.accepted\n            );\n            const denied = appsWithResult.filter(\n              (app) => !app.deliberation.accepted\n            );\n            /* eslint-enable no-unused-vars */\n            // TODO: send emails here\n          });\n        } else {\n          swal(\n            \"Nope\",\n            \"Make sure everyone who was denied has feedback!\",\n            \"error\"\n          );\n        }\n      }\n    });\n\n  render() {\n    const {\n      loading,\n      error,\n      applications,\n      currentApplication,\n      currentApplicationID,\n      questions,\n      levelConfig,\n    } = this.state;\n\n    if (error) return <Error message={error} />;\n    if (loading) return <Loader />;\n\n    const { deliberationsOpen } = this.props.settings;\n\n    const authUser = this.context;\n\n    if (!deliberationsOpen && !isAdmin(authUser))\n      return (\n        <TextDisplay\n          name={\"Deliberations Menu\"}\n          text={\"Deliberations are currently closed!\"}\n          displayBack={true}\n        />\n      );\n\n    let Content;\n    if (currentApplicationID === \"details\") Content = () => <DetailsDisplay />;\n    else if (currentApplicationID === \"admin\") {\n      Content = () => (\n        <FeedbackPage\n          settings={this.props.settings}\n          applications={applications}\n          saveFeedback={this.saveFeedback}\n          sendResults={this.sendResults}\n        />\n      );\n    } else if (currentApplicationID === \"secondRound\") {\n      Content = () => (\n        <SecondRound\n          settings={this.props.settings}\n          applications={applications}\n          saveSecondRoundStatus={this.saveSecondRoundStatus}\n          readyRoundTwo={this.readyRoundTwo}\n        />\n      );\n    } else if (typeof currentApplication === \"object\") {\n      Content = () => (\n        <ApplicationDisplay\n          questions={questions}\n          levelConfig={levelConfig}\n          voteApplicant={this.voteApplicant}\n          vote={currentApplication.deliberation.votes[authUser.uid]}\n          {...currentApplication}\n        />\n      );\n    } else Content = () => <DetailsDisplay />;\n\n    const Sidebar = () => (\n      <SidebarBase>\n        <h1>Applications</h1>\n        <SidebarItem\n          selected={currentApplication === \"details\"}\n          onClick={() => this.setCurrentApplication(\"details\")}\n        >\n          Voting Instructions\n        </SidebarItem>\n        {isAdmin(authUser) && (\n          <SidebarItem\n            selected={currentApplication === \"admin\"}\n            onClick={() => this.setCurrentApplication(\"admin\")}\n          >\n            Add Feedback\n          </SidebarItem>\n        )}\n        {isAdmin(authUser) && (\n          <SidebarItem\n            selected={currentApplication === \"secondRound\"}\n            onClick={() => this.setCurrentApplication(\"secondRound\")}\n          >\n            Second Round Status\n          </SidebarItem>\n        )}\n        <hr />\n        {applications\n          .sort((a, b) => (a.name > b.name ? 1 : -1))\n          .map((application) => (\n            <SidebarItem\n              selected={currentApplication.uid === application.uid}\n              key={application.uid}\n              onClick={() => this.setCurrentApplication(application)}\n            >\n              {application.name}\n            </SidebarItem>\n          ))}\n      </SidebarBase>\n    );\n\n    return (\n      <FullSizeContainer fluid flexdirection=\"row\">\n        <Sidebar />\n        <Col style={{ padding: 25 }}>\n          <Content />\n        </Col>\n      </FullSizeContainer>\n    );\n  }\n}\n\nexport default compose(\n  withSettings,\n  withAuthorization(isMember),\n  withFirebase\n)(InterviewerView);\n","import React, { useState, useEffect, useContext } from \"react\";\nimport swal from \"@sweetalert/with-react\";\nimport { compose } from \"recompose\";\nimport cloneDeep from \"lodash.clonedeep\";\nimport { navigate } from \"gatsby\";\nimport update from \"immutability-helper\";\n\nimport Form from \"react-bootstrap/Form\";\n\nimport { isApplicant } from \"../../util/conditions\";\nimport {\n  AuthUserContext,\n  withFirebase,\n  withAuthorization,\n} from \"upe-react-components\";\nimport { withSettings } from \"../API/SettingsContext\";\n\nimport { RequiredAsterisk } from \"../../styles/global\";\nimport Loader from \"../Loader\";\nimport TextDisplay, { BackIcon } from \"../TextDisplay\";\n\nimport { StyledButton, Title, Text } from \"../../styles/global\";\n\nconst ApplicantView = ({ firebase, settings }) => {\n  const [application, setApplication] = useState({});\n  const [loadedApplication, setLoadedApplication] = useState(true);\n\n  const authUser = useContext(AuthUserContext);\n\n  useEffect(() => {\n    if (firebase && !!authUser) {\n      const applicationUnsub = firebase\n        .application(authUser.uid)\n        .onSnapshot((docSnapshot) => {\n          if (docSnapshot.exists) {\n            setApplication(docSnapshot.data());\n          } else console.log(\"No Application!\");\n          setLoadedApplication(false);\n        });\n\n      return () => {\n        applicationUnsub();\n      };\n    }\n  }, [firebase, authUser]);\n\n  if (loadedApplication) return <Loader />;\n\n  const confirm = async () => {\n    const roles = cloneDeep(authUser.roles);\n    delete roles.nonmember;\n    if (\n      settings.useTwoRoundDeliberations &&\n      !authUser.roles.provisionalMember\n    ) {\n      roles.provisionalMember = true;\n\n      await firebase.user(authUser.uid).update({ roles });\n      await firebase\n        .application(authUser.uid)\n        .update({ \"deliberation.confirmed\": true });\n    } else {\n      delete roles.provisionalMember;\n      delete roles.applicant;\n      roles.upemember = true;\n\n      const gradYear = application.responses.find(\n        (r) => r.uid === \"year\"\n      ).value;\n\n      await firebase.user(authUser.uid).update({ roles, gradYear });\n      await firebase.application(authUser.uid).delete();\n\n      // TODO: make this welcome actually pretty\n      await swal(\n        \"You're in!\",\n        \"Welcome to Upsilon Pi Epsilon at Boston University\",\n        \"success\"\n      );\n      navigate(\"/\");\n    }\n  };\n\n  const submitData = async (formData) => {\n    if (formData.file === null) return;\n\n    const data = {\n      profileIMG: formData.profileIMG,\n      socials: {\n        facebook: formData.facebook,\n        github: formData.github,\n        linkedin: formData.linkedin,\n        twitter: formData.twitter,\n      },\n    };\n\n    // TODO: refactor along with image url change (keep all user data in storage/userData/UID/)\n    await firebase\n      .uploadProfile(\"Provisional\", formData.profileIMG)\n      .put(formData.file)\n      .catch((error) => {\n        console.log(error);\n      });\n\n    await firebase\n      .user(authUser.uid)\n      .update(data)\n      .catch((error) => {\n        console.log(error);\n      });\n\n    await swal(\"All set!\", \"We got your info!\", \"success\");\n    navigate(\"/\");\n  };\n\n  // Hasn't applied yet\n  if (!authUser.roles.applicant)\n    return (\n      <TextDisplay\n        name={\"Deliberation Results\"}\n        text={\"You have yet to apply this Semester.\"}\n        displayBack={true}\n      />\n    );\n\n  // Hasn't interviewed yet\n  if (!application.interview.interviewed)\n    return (\n      <>\n        <TextDisplay\n          name={\"Deliberation Results\"}\n          text={\n            \"You must complete your interview before getting any deliberation results.\"\n          }\n          displayBack={true}\n        />\n        <br />\n        <br />\n      </>\n    );\n\n  // Deliberations are incomplete or feedback hasn't been given\n  if (\n    settings.deliberationsOpen ||\n    (!application.deliberation.accepted &&\n      application.deliberation.feedback === \"\")\n  )\n    // TODO: make this centered, prettier\n    return (\n      <>\n        <TextDisplay\n          name={\"Deliberation Results\"}\n          text={\"Deliberations are still underway.\"}\n          displayBack={true}\n        />\n        <br />\n        <br />\n        <br />\n        <br />\n      </>\n    );\n\n  // Denied but waiting for emails to go out\n  if (\n    !application.deliberation.accepted &&\n    application.deliberation.feedback !== \"\"\n  )\n    return (\n      <>\n        <TextDisplay\n          name={\"Deliberation Results\"}\n          text={\"Keep an eye on your inbox for an update on your deliberation!\"}\n          displayBack={true}\n        />\n        <br />\n        <br />\n        <br />\n        <br />\n      </>\n    );\n\n  // Theyre accepted and need to confirm\n  // TODO: get eboard to fix the wording\n  if (!application.deliberation.confirmed) {\n    const ResultText = () =>\n      settings.useTwoRoundDeliberations && !authUser.roles.provisionalMember ? (\n        <>\n          <h3>You have been provisionally accepted into UPE!</h3>\n          <p>\n            We are pleased to extend to you provisional membership to UPE. This\n            means that you are now on the way to becoming a fully fledged member\n            of our group. Now you must go through the provisional period\n            requirements as described in the info sessions. If you'd like to\n            accept this and start your onboarding period, please click the\n            button below to confirm.\n          </p>\n        </>\n      ) : (\n        <>\n          <h3>You have been officially accepted into UPE!</h3>\n          <p>\n            We are pleased to announce that you have been officially accepted\n            into UPE. In order for us to complete this process, we require that\n            you confirm your acceptance by clicking below.\n          </p>\n        </>\n      );\n\n    return (\n      <>\n        <BackIcon />\n        <Title>\n          <h1> Deliberation Results </h1>\n        </Title>\n        <Text\n          pFontSize={\"15px\"}\n          pTextAlign={\"left\"}\n          pMaxWidth={\"50%\"}\n          position={\"left\"}\n          h2MarginTop={\"2%\"}\n          paddingLeft={\"7%\"}\n          paddingRight={\"7%\"}\n        >\n          <ResultText />\n          <StyledButton\n            paddingTop={\"0.5%\"}\n            paddingRight={\"2%\"}\n            paddingBottom={\"0.5%\"}\n            paddingLeft={\"2%\"}\n            onClick={confirm}\n          >\n            Confirm\n          </StyledButton>\n        </Text>\n      </>\n    );\n  }\n\n  // make this pretty\n  if (authUser.profileIMG !== \"\")\n    return (\n      <>\n        <TextDisplay\n          name={\"Deliberation Results\"}\n          text={\"You're all set!\"}\n          displayBack={true}\n        />\n        <br />\n        <br />\n        <br />\n        <br />\n      </>\n    );\n\n  return (\n    <>\n      <BackIcon />\n      <Title>\n        <h1> Deliberation Results </h1>\n      </Title>\n      <Text\n        pFontSize={\"15px\"}\n        pTextAlign={\"left\"}\n        pMaxWidth={\"50%\"}\n        position={\"left\"}\n        h2MarginTop={\"2%\"}\n        paddingLeft={\"7%\"}\n        paddingRight={\"7%\"}\n      >\n        <h2>Next Steps</h2>\n        <p>\n          Now that you've accepted to join UPE, you will continue on with the\n          onboarding period, during this time, and has mentioned during the Info\n          Sessions, you will be required to attend chapter, meet current\n          members, and contribute in some way to UPE. Further details about this\n          will be given to you shortly by our Recruitment Team.\n        </p>\n        <p>\n          For the time being however, we ask that you fill out the form bellow,\n          so that once onboarding is over, we can induct you and add you to our\n          database & website in a timely manner.\n        </p>\n        <br />\n        <h2> Data Form </h2>\n        <DataForm\n          submitFunction={submitData}\n          firstName={authUser.name.split(\" \")[0]}\n        />\n      </Text>\n    </>\n  );\n};\n\nconst DataForm = ({ submitFunction, firstName }) => {\n  const [formData, setFormData] = useState({\n    file: null,\n    profileIMG: \"\",\n    twitter: \"\",\n    facebook: \"\",\n    github: \"\",\n    linkedin: \"\",\n  });\n  const [validated, setValidated] = useState(false);\n\n  const setFileValidity = (fileUpload) => {\n    if (fileUpload.files.length === 0) {\n      fileUpload.setCustomValidity(\"You must upload a file!\");\n      swal(\"Uh oh!\", \"You must upload a file!\", \"error\");\n    } else if (fileUpload.files.length > 1) {\n      fileUpload.setCustomValidity(\"You can only upload 1 file!\");\n      swal(\"Uh oh!\", \"You can only upload 1 file!\", \"error\");\n    } else if (fileUpload.files[0].size > 1048576 * 5) {\n      fileUpload.setCustomValidity(\"Max file size is 5MB!\");\n      fileUpload.value = \"\";\n      swal(\"Uh oh!\", \"Max file size is 5MB!\", \"error\");\n    } else {\n      fileUpload.setCustomValidity(\"\");\n    }\n  };\n\n  const saveData = (e) => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const fileUploads = Array.from(form.querySelectorAll(\".form-control-file\"));\n    fileUploads.forEach((fileUpload) => setFileValidity(fileUpload));\n    if (form.checkValidity() === false) {\n      e.stopPropagation();\n      setValidated(true);\n      swal(\n        \"Missing photo!\",\n        \"Please provide a headshot for your profile photo of size less than 5MB.\",\n        \"error\"\n      );\n    } else {\n      submitFunction(cloneDeep(formData));\n      setValidated(false);\n    }\n  };\n\n  const updateField = (e) =>\n    setFormData(\n      update(formData, {\n        [e.target.name]: { $set: e.target.value },\n      })\n    );\n\n  const updateImage = (e) => {\n    const hasIMG = e.target.files.length === 1;\n    let fileName = \"\";\n    // TODO: Needs refactor after website\n    if (hasIMG) {\n      if (e.target.files[0].type.split(\"/\")[1] === \"jpeg\")\n        fileName = firstName + \".jpg\";\n      else fileName = firstName + \".png\";\n    } else return;\n\n    setFormData(\n      update(formData, {\n        file: { $set: hasIMG ? e.target.files[0] : \"\" },\n        profileIMG: {\n          $set: fileName,\n        },\n      })\n    );\n  };\n\n  // TODO: Look into custom form issue\n  return (\n    <Text>\n      <Form noValidate validated={validated} onSubmit={saveData}>\n        <Form.Row>\n          <Form.Group>\n            <Form.Label>\n              <h5>\n                Profile Image <RequiredAsterisk />\n              </h5>\n            </Form.Label>\n            <Form.File\n              name=\"profileIMG\"\n              accept=\".png,.jpg\"\n              onChange={updateImage}\n              required\n            />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group>\n            <Form.Label>\n              <h5>Twitter</h5>\n            </Form.Label>\n            <Form.Control\n              name=\"twitter\"\n              type=\"url\"\n              placeholder=\"https://twitter.com/...\"\n              value={formData.twitter}\n              onChange={updateField}\n            />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group>\n            <Form.Label>\n              <h5>\n                Github <RequiredAsterisk />\n              </h5>\n            </Form.Label>\n            <Form.Control\n              name=\"github\"\n              type=\"url\"\n              placeholder=\"https://github.com/...\"\n              value={formData.github}\n              onChange={updateField}\n              required\n            />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group>\n            <Form.Label>\n              <h5>Facebook</h5>\n            </Form.Label>\n            <Form.Control\n              name=\"facebook\"\n              type=\"url\"\n              placeholder=\"https://facebook.com/...\"\n              value={formData.facebook}\n              onChange={updateField}\n            />\n          </Form.Group>\n        </Form.Row>\n\n        <Form.Row>\n          <Form.Group>\n            <Form.Label>\n              <h5>\n                Linkedin <RequiredAsterisk />\n              </h5>\n            </Form.Label>\n            <Form.Control\n              name=\"linkedin\"\n              type=\"url\"\n              placeholder=\"https://linkedin.com/...\"\n              value={formData.linkedin}\n              onChange={updateField}\n              required\n            />\n          </Form.Group>\n        </Form.Row>\n\n        <StyledButton\n          paddingTop={\"0.5%\"}\n          paddingRight={\"2%\"}\n          paddingBottom={\"0.5%\"}\n          paddingLeft={\"2%\"}\n          type=\"submit\"\n        >\n          Submit\n        </StyledButton>\n      </Form>\n    </Text>\n  );\n};\n\nexport default compose(\n  withSettings,\n  withAuthorization(isApplicant),\n  withFirebase\n)(ApplicantView);\n","import React, { useContext } from \"react\";\n\nimport { isMember } from \"../util/conditions\";\nimport { AuthUserContext } from \"upe-react-components\";\nimport { InterviewerView, ApplicantView } from \"../components/Deliberation\";\n\nexport default () => {\n  const authUser = useContext(AuthUserContext);\n  return isMember(authUser) ? <InterviewerView /> : <ApplicantView />;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction stringifiable(obj) {\n  // Safely stringify Object.create(null)\n\n  /* istanbul ignore next */\n  return typeof obj === 'object' && !('toString' in obj) ? Object.prototype.toString.call(obj).slice(8, -1) : obj;\n}\n\nvar isProduction = typeof process === 'object' && process.env.NODE_ENV === 'production';\n\nfunction invariant(condition, message) {\n  if (!condition) {\n    /* istanbul ignore next */\n    if (isProduction) {\n      throw new Error('Invariant failed');\n    }\n\n    throw new Error(message());\n  }\n}\n\nexports.invariant = invariant;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar splice = Array.prototype.splice;\nvar toString = Object.prototype.toString;\n\nfunction type(obj) {\n  return toString.call(obj).slice(8, -1);\n}\n\nvar assign = Object.assign ||\n/* istanbul ignore next */\nfunction (target, source) {\n  getAllKeys(source).forEach(function (key) {\n    if (hasOwnProperty.call(source, key)) {\n      target[key] = source[key];\n    }\n  });\n  return target;\n};\n\nvar getAllKeys = typeof Object.getOwnPropertySymbols === 'function' ? function (obj) {\n  return Object.keys(obj).concat(Object.getOwnPropertySymbols(obj));\n}\n/* istanbul ignore next */\n: function (obj) {\n  return Object.keys(obj);\n};\n\nfunction copy(object) {\n  return Array.isArray(object) ? assign(object.constructor(object.length), object) : type(object) === 'Map' ? new Map(object) : type(object) === 'Set' ? new Set(object) : object && typeof object === 'object' ? assign(Object.create(Object.getPrototypeOf(object)), object)\n  /* istanbul ignore next */\n  : object;\n}\n\nvar Context =\n/** @class */\nfunction () {\n  function Context() {\n    this.commands = assign({}, defaultCommands);\n    this.update = this.update.bind(this); // Deprecated: update.extend, update.isEquals and update.newContext\n\n    this.update.extend = this.extend = this.extend.bind(this);\n\n    this.update.isEquals = function (x, y) {\n      return x === y;\n    };\n\n    this.update.newContext = function () {\n      return new Context().update;\n    };\n  }\n\n  Object.defineProperty(Context.prototype, \"isEquals\", {\n    get: function get() {\n      return this.update.isEquals;\n    },\n    set: function set(value) {\n      this.update.isEquals = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Context.prototype.extend = function (directive, fn) {\n    this.commands[directive] = fn;\n  };\n\n  Context.prototype.update = function (object, $spec) {\n    var _this = this;\n\n    var spec = typeof $spec === 'function' ? {\n      $apply: $spec\n    } : $spec;\n\n    if (!(Array.isArray(object) && Array.isArray(spec))) {\n      invariant(!Array.isArray(spec), function () {\n        return \"update(): You provided an invalid spec to update(). The spec may \" + \"not contain an array except as the value of $set, $push, $unshift, \" + \"$splice or any custom command allowing an array value.\";\n      });\n    }\n\n    invariant(typeof spec === 'object' && spec !== null, function () {\n      return \"update(): You provided an invalid spec to update(). The spec and \" + \"every included key path must be plain objects containing one of the \" + (\"following commands: \" + Object.keys(_this.commands).join(', ') + \".\");\n    });\n    var nextObject = object;\n    getAllKeys(spec).forEach(function (key) {\n      if (hasOwnProperty.call(_this.commands, key)) {\n        var objectWasNextObject = object === nextObject;\n        nextObject = _this.commands[key](spec[key], nextObject, spec, object);\n\n        if (objectWasNextObject && _this.isEquals(nextObject, object)) {\n          nextObject = object;\n        }\n      } else {\n        var nextValueForKey = type(object) === 'Map' ? _this.update(object.get(key), spec[key]) : _this.update(object[key], spec[key]);\n        var nextObjectValue = type(nextObject) === 'Map' ? nextObject.get(key) : nextObject[key];\n\n        if (!_this.isEquals(nextValueForKey, nextObjectValue) || typeof nextValueForKey === 'undefined' && !hasOwnProperty.call(object, key)) {\n          if (nextObject === object) {\n            nextObject = copy(object);\n          }\n\n          if (type(nextObject) === 'Map') {\n            nextObject.set(key, nextValueForKey);\n          } else {\n            nextObject[key] = nextValueForKey;\n          }\n        }\n      }\n    });\n    return nextObject;\n  };\n\n  return Context;\n}();\n\nexports.Context = Context;\nvar defaultCommands = {\n  $push: function $push(value, nextObject, spec) {\n    invariantPushAndUnshift(nextObject, spec, '$push');\n    return value.length ? nextObject.concat(value) : nextObject;\n  },\n  $unshift: function $unshift(value, nextObject, spec) {\n    invariantPushAndUnshift(nextObject, spec, '$unshift');\n    return value.length ? value.concat(nextObject) : nextObject;\n  },\n  $splice: function $splice(value, nextObject, spec, originalObject) {\n    invariantSplices(nextObject, spec);\n    value.forEach(function (args) {\n      invariantSplice(args);\n\n      if (nextObject === originalObject && args.length) {\n        nextObject = copy(originalObject);\n      }\n\n      splice.apply(nextObject, args);\n    });\n    return nextObject;\n  },\n  $set: function $set(value, _nextObject, spec) {\n    invariantSet(spec);\n    return value;\n  },\n  $toggle: function $toggle(targets, nextObject) {\n    invariantSpecArray(targets, '$toggle');\n    var nextObjectCopy = targets.length ? copy(nextObject) : nextObject;\n    targets.forEach(function (target) {\n      nextObjectCopy[target] = !nextObject[target];\n    });\n    return nextObjectCopy;\n  },\n  $unset: function $unset(value, nextObject, _spec, originalObject) {\n    invariantSpecArray(value, '$unset');\n    value.forEach(function (key) {\n      if (Object.hasOwnProperty.call(nextObject, key)) {\n        if (nextObject === originalObject) {\n          nextObject = copy(originalObject);\n        }\n\n        delete nextObject[key];\n      }\n    });\n    return nextObject;\n  },\n  $add: function $add(values, nextObject, _spec, originalObject) {\n    invariantMapOrSet(nextObject, '$add');\n    invariantSpecArray(values, '$add');\n\n    if (type(nextObject) === 'Map') {\n      values.forEach(function (_a) {\n        var key = _a[0],\n            value = _a[1];\n\n        if (nextObject === originalObject && nextObject.get(key) !== value) {\n          nextObject = copy(originalObject);\n        }\n\n        nextObject.set(key, value);\n      });\n    } else {\n      values.forEach(function (value) {\n        if (nextObject === originalObject && !nextObject.has(value)) {\n          nextObject = copy(originalObject);\n        }\n\n        nextObject.add(value);\n      });\n    }\n\n    return nextObject;\n  },\n  $remove: function $remove(value, nextObject, _spec, originalObject) {\n    invariantMapOrSet(nextObject, '$remove');\n    invariantSpecArray(value, '$remove');\n    value.forEach(function (key) {\n      if (nextObject === originalObject && nextObject.has(key)) {\n        nextObject = copy(originalObject);\n      }\n\n      nextObject.delete(key);\n    });\n    return nextObject;\n  },\n  $merge: function $merge(value, nextObject, _spec, originalObject) {\n    invariantMerge(nextObject, value);\n    getAllKeys(value).forEach(function (key) {\n      if (value[key] !== nextObject[key]) {\n        if (nextObject === originalObject) {\n          nextObject = copy(originalObject);\n        }\n\n        nextObject[key] = value[key];\n      }\n    });\n    return nextObject;\n  },\n  $apply: function $apply(value, original) {\n    invariantApply(value);\n    return value(original);\n  }\n};\nvar defaultContext = new Context();\nexports.isEquals = defaultContext.update.isEquals;\nexports.extend = defaultContext.extend;\nexports.default = defaultContext.update; // @ts-ignore\n\nexports.default.default = module.exports = assign(exports.default, exports); // invariants\n\nfunction invariantPushAndUnshift(value, spec, command) {\n  invariant(Array.isArray(value), function () {\n    return \"update(): expected target of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(value) + \".\";\n  });\n  invariantSpecArray(spec[command], command);\n}\n\nfunction invariantSpecArray(spec, command) {\n  invariant(Array.isArray(spec), function () {\n    return \"update(): expected spec of \" + stringifiable(command) + \" to be an array; got \" + stringifiable(spec) + \". \" + \"Did you forget to wrap your parameter in an array?\";\n  });\n}\n\nfunction invariantSplices(value, spec) {\n  invariant(Array.isArray(value), function () {\n    return \"Expected $splice target to be an array; got \" + stringifiable(value);\n  });\n  invariantSplice(spec.$splice);\n}\n\nfunction invariantSplice(value) {\n  invariant(Array.isArray(value), function () {\n    return \"update(): expected spec of $splice to be an array of arrays; got \" + stringifiable(value) + \". \" + \"Did you forget to wrap your parameters in an array?\";\n  });\n}\n\nfunction invariantApply(fn) {\n  invariant(typeof fn === 'function', function () {\n    return \"update(): expected spec of $apply to be a function; got \" + stringifiable(fn) + \".\";\n  });\n}\n\nfunction invariantSet(spec) {\n  invariant(Object.keys(spec).length === 1, function () {\n    return \"Cannot have more than one key in an object with $set\";\n  });\n}\n\nfunction invariantMerge(target, specValue) {\n  invariant(specValue && typeof specValue === 'object', function () {\n    return \"update(): $merge expects a spec of type 'object'; got \" + stringifiable(specValue);\n  });\n  invariant(target && typeof target === 'object', function () {\n    return \"update(): $merge expects a target of type 'object'; got \" + stringifiable(target);\n  });\n}\n\nfunction invariantMapOrSet(target, command) {\n  var typeOfTarget = type(target);\n  invariant(typeOfTarget === 'Map' || typeOfTarget === 'Set', function () {\n    return \"update(): \" + stringifiable(command) + \" expects a target of type Set or Map; got \" + stringifiable(typeOfTarget);\n  });\n}"],"sourceRoot":""}