(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"9U/z":function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=n("q1tI"),a=r(i),o=r(n("17x9")),l=r(n("TSYQ"));function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=a.forwardRef((function(e,t){var n=e.size,r=e.disabled,o=void 0!==r&&r,c=e.value,s=e.onChange,f=void 0===s?function(){}:s,v=e.onAfterChange,b=void 0===v?function(){}:v,g=e.min,w=void 0===g?0:g,h=e.max,y=void 0===h?100:h,E=e.step,x=e.variant,O=void 0===x?"primary":x,j=e.inputProps,A=void 0===j?{}:j,S=e.tooltip,C=void 0===S?"auto":S,I=e.tooltipPlacement,T=void 0===I?"bottom":I,k=e.tooltipLabel,P=e.tooltipStyle,_=void 0===P?{}:P,N=e.tooltipProps,F=void 0===N?{}:N,q=e.bsPrefix,L=e.className,D=m(i.useState(),2),B=D[0],z=D[1],K=q||"range-slider",R="auto"===C||"on"===C,U=l(L,K,n&&"".concat(K,"--").concat(n),o&&"disabled",O&&"".concat(K,"--").concat(O)),G=A.onMouseUp,M=A.onTouchEnd,Q=d(A,["onMouseUp","onTouchEnd"]),$=function(e){e.target.value!==B&&b(e,e.target.valueAsNumber),z(e.target.value)},J=a.createElement("input",u({type:"range",className:U,value:c,min:w,max:y,step:E,onChange:function(e){return f(e,e.target.valueAsNumber)},onMouseUp:function(e){$(e),G&&G(e)},onTouchEnd:function(e){$(e),M&&M(e)},disabled:o,ref:t},Q));if(R){var W=l("".concat(K,"__wrap"),n&&"".concat(K,"__wrap--").concat(n)),H=l("".concat(K,"__tooltip"),R&&"".concat(K,"__tooltip--").concat(C),T&&"".concat(K,"__tooltip--").concat(T),o&&"".concat(K,"__tooltip--disabled")),Y=(c-w)/(y-w),Z=100*Y,V=2*(Y-.5)*-("sm"===n?8:"lg"===n?12:10);return a.createElement("span",{className:W},J,a.createElement("div",u({className:H,style:p(p({},_||{}),{},{left:"calc(".concat(Z,"% + ").concat(V,"px)")})},F),a.createElement("div",{className:"".concat(K,"__tooltip__label")},k?k(c):c),a.createElement("div",{className:"".concat(K,"__tooltip__arrow")})))}return J})),b=void 0===b?function(){}:b;v.propTypes={value:o.oneOfType([o.number,o.string]),onChange:o.func,onAfterChange:o.func,min:o.number,max:o.number,step:o.number,disabled:o.bool,size:o.oneOf(["sm","lg"]),variant:o.oneOf(["primary","secondary","success","danger","warning","info","dark","light"]),inputProps:o.object,tooltip:o.oneOf(["auto","on","off"]),tooltipPlacement:o.oneOf(["top","bottom"]),tooltipLabel:o.func,tooltipStyle:o.object,tooltipProps:o.object,className:o.string,ref:o.oneOfType([o.func,o.shape({current:o.instanceOf(b)})]),bsPrefix:o.string},e.exports=v},"HaE+":function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var l=e[a](o),c=l.value}catch(u){return void n(u)}l.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function l(e){r(o,i,a,l,c,"next",e)}function c(e){r(o,i,a,l,c,"throw",e)}l(void 0)}))}}n.d(t,"a",(function(){return i}))},PjpU:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l}));var r=function(e){var t,n;return!(null==e||null===(t=e.roles)||void 0===t||!t.admin)||!(null==e||null===(n=e.roles)||void 0===n||!n.eboard)},i=function(e){var t;return!(null==e||null===(t=e.roles)||void 0===t||!t.recruitmentteam)},a=function(e){var t;return!(null==e||null===(t=e.roles)||void 0===t||!t.applicant)},o=function(e){return!!e},l=function(e){var t;return!(null==e||null===(t=e.roles)||void 0===t||!t.upemember)}},Z6Z7:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("yTmA"),o=n("PjpU"),l=n("KQm4"),c=n("HaE+"),u=n("dI71"),s=(n("ToJy"),n("o0o1")),p=n.n(s),d=n("XaGS"),m=n.n(d),f=n("eHHv"),v=n("vOnD"),b=n("RsOY"),g=n.n(b),w=n("JI6e"),h=n("f4B5"),y=n("QojX"),E=n("cWnB"),x=n("K3lz"),O=v.b.div.withConfig({displayName:"LevelSelector__Title",componentId:"sc-pn83e6-0"})(['padding-left:5%;h1{font-family:Georgia;font-size:50px;font-style:italic;}h1:after{content:"";display:block;width:4%;padding-top:3px;border-bottom:2px solid #f21131;}']),j=Object(v.b)(E.a).withConfig({displayName:"LevelSelector__StyledButton",componentId:"sc-pn83e6-1"})(["text-decoration:none;color:#ffffff;background-color:#f21131;border:none;font-size:25px;font-weight:bold;padding:0.5% 2% 0.5% 2%;&:disabled{text-decoration:none;color:#ffffff;background-color:#f88898;border:none;}&:hover,&:focus,&:active,&:visited{text-decoration:none;color:#ffffff;background-color:#600613;border:none;}"]),A=function(e){var t=e.levels,n=e.saveLevel,a=Object(r.useState)(""),o=a[0],l=a[1];return i.a.createElement(y.a,{onSubmit:function(e){e.preventDefault(),n(o).then((function(){return window.location.reload(!1)}))}},i.a.createElement(x.a,null),i.a.createElement(O,null,i.a.createElement("h1",null,"Interview Room")),i.a.createElement(y.a.Group,{style:{paddingTop:"2%",paddingBottom:"1%",paddingLeft:"7%"},as:w.a,md:"4",controlId:"interviewLevel"},i.a.createElement(y.a.Control,{as:"select",name:"level",onChange:function(e){return l(e.target.value)},required:!0},i.a.createElement("option",{value:""},"--"),t.map((function(e){return i.a.createElement("option",{key:e,value:e},e)})))),i.a.createElement(j,{style:{marginLeft:"5%"},type:"submit",disabled:""===o},"Begin"))},S=(n("E9XD"),n("y8DL")),C=n("Qdst"),I=n("ILyh"),T=function(e){var t=Object(S.a)(e,{activeKey:"onSelect"}),n=t.id,a=t.generateChildId,o=t.onSelect,l=t.activeKey,c=t.transition,u=t.mountOnEnter,s=t.unmountOnExit,p=t.children,d=Object(r.useMemo)((function(){return a||function(e,t){return n?n+"-"+t+"-"+e:null}}),[n,a]),m=Object(r.useMemo)((function(){return{onSelect:o,activeKey:l,transition:c,mountOnEnter:u||!1,unmountOnExit:s||!1,getControlledId:function(e){return d(e,"tabpane")},getControllerId:function(e){return d(e,"tab")}}}),[o,l,c,u,s,d]);return i.a.createElement(C.a.Provider,{value:m},i.a.createElement(I.a.Provider,{value:o||null},p))},k=n("wx14"),P=n("zLVn"),_=n("TSYQ"),N=n.n(_),F=n("vUet"),q=["bsPrefix","as","className"],L=i.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.as,a=void 0===r?"div":r,o=e.className,l=Object(P.a)(e,q),c=Object(F.a)(n,"tab-content");return i.a.createElement(a,Object(k.a)({ref:t},l,{className:N()(o,c)}))})),D=n("7xGa"),B=["activeKey","getControlledId","getControllerId"],z=["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"];var K=i.a.forwardRef((function(e,t){var n=function(e){var t=Object(r.useContext)(C.a);if(!t)return e;var n=t.activeKey,i=t.getControlledId,a=t.getControllerId,o=Object(P.a)(t,B),l=!1!==e.transition&&!1!==o.transition,c=Object(I.b)(e.eventKey);return Object(k.a)({},e,{active:null==e.active&&null!=c?Object(I.b)(n)===c:e.active,id:i(e.eventKey),"aria-labelledby":a(e.eventKey),transition:l&&(e.transition||o.transition||D.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:o.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:o.unmountOnExit})}(e),a=n.bsPrefix,o=n.className,l=n.active,c=n.onEnter,u=n.onEntering,s=n.onEntered,p=n.onExit,d=n.onExiting,m=n.onExited,f=n.mountOnEnter,v=n.unmountOnExit,b=n.transition,g=n.as,w=void 0===g?"div":g,h=(n.eventKey,Object(P.a)(n,z)),y=Object(F.a)(a,"tab-pane");if(!l&&!b&&v)return null;var E=i.a.createElement(w,Object(k.a)({},h,{ref:t,role:"tabpanel","aria-hidden":!l,className:N()(o,y,{active:l})}));return b&&(E=i.a.createElement(b,{in:l,onEnter:c,onEntering:u,onEntered:s,onExit:p,onExiting:d,onExited:m,mountOnEnter:f,unmountOnExit:v},E)),i.a.createElement(C.a.Provider,{value:null},i.a.createElement(I.a.Provider,{value:null},E))}));K.displayName="TabPane";var R=K,U=function(e){function t(){return e.apply(this,arguments)||this}return Object(u.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(i.a.Component);U.Container=T,U.Content=L,U.Pane=R;var G=U,M=n("3Z9Z"),Q=n("+YzT"),$=n("JeC3"),J=n("9U/z"),W=n.n(J),H=n("lEpx"),Y=v.b.p.withConfig({displayName:"QuestionNotes__StyledP",componentId:"sc-xtx7un-0"})(["white-space:pre-wrap;font-family:Georgia;"]),Z=function(e){var t=e.question,n=e.note,a=e.score,o=e.saveApplication,l=e.submitApplication,u=Object(r.useState)(n),s=u[0],d=u[1],m=Object(r.useState)(a),f=m[0],v=m[1],b=Object(r.useState)(!1),g=b[0],h=b[1],E=function(){var e=Object(c.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,o({note:s,score:f,uid:t.uid});case 3:return e.next=5,l();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){return o({note:s,score:f,uid:t.uid})};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Y,null,t.answer),i.a.createElement(y.a,{onSubmit:E},i.a.createElement("div",{className:"note-wrapper"},i.a.createElement(w.a,{sm:9},i.a.createElement(y.a.Group,{controlId:"formBasicEmail"},i.a.createElement(y.a.Label,null,i.a.createElement("strong",{style:{fontFamily:"Georgia"}},"Notes")),i.a.createElement(y.a.Control,{as:"textarea",rows:"10",placeholder:"Enter notes here...",value:s,onChange:function(e){return d(e.target.value)},onBlur:x,required:!0}))),i.a.createElement(w.a,{sm:3},i.a.createElement("strong",{style:{fontFamily:"Georgia"}},"Score"),i.a.createElement(W.a,{variant:"danger",value:f,onChange:function(e){return v(parseFloat(e.target.value))},onAfterChange:x,step:.5,max:5,min:0}))),l&&i.a.createElement(H.i,{paddingTop:"0.5%",paddingRight:"2%",paddingBottom:"0.5%",paddingLeft:"2%",style:{marginTop:"2%",marginBottom:"2%"},type:"submit"},"Submit"),i.a.createElement($.a,{onClose:function(){return h(!1)},show:g,delay:3e3,autohide:!0},i.a.createElement($.a.Body,null,i.a.createElement("strong",{style:{fontFamily:"Georgia"}},"Saved!")))),i.a.createElement("hr",{style:{marginTop:"3%",marginBottom:"3%"}}))},V=v.b.p.withConfig({displayName:"QuestionDisplay__StyledP",componentId:"sc-yak2jh-0"})(["white-space:pre-wrap;font-family:Georgia;"]),X=v.b.h3.withConfig({displayName:"QuestionDisplay__StyledH3",componentId:"sc-yak2jh-1"})(["font-family:Georgia;padding-bottom:1%;font-weight:bold;"]),ee=function(e){var t=e.question,n=e.isInterviewer;return i.a.createElement(i.a.Fragment,null,i.a.createElement(X,null,"Overview"),i.a.createElement(V,null,t.overview),i.a.createElement("hr",{style:{marginTop:"3%",marginBottom:"3%"}}),n&&i.a.createElement(i.a.Fragment,null,i.a.createElement(V,null,t.interviewerNotes),i.a.createElement("hr",{style:{marginTop:"3%",marginBottom:"3%"}})))},te=function(e){var t=e.question,n=e.note,r=e.score,a=e.isInterviewer,o=e.saveApplication;return i.a.createElement(i.a.Fragment,null,i.a.createElement(X,null,"Resume Review"),i.a.createElement("embed",{src:t.url,width:"100%",height:"750",type:"application/pdf",style:{margin:"25px 0"}}),i.a.createElement("hr",{style:{marginTop:"3%",marginBottom:"3%"}}),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(V,null,t.notes),i.a.createElement("hr",null),i.a.createElement(Z,{question:t,note:n,score:r,saveApplication:o})))},ne=function(e){var t=e.question,n=e.note,r=e.score,a=e.isInterviewer,o=e.saveApplication,l=e.submitApplication;return i.a.createElement(i.a.Fragment,null,i.a.createElement(X,null,t.title),i.a.createElement(V,null,t.text),i.a.createElement("hr",{style:{marginTop:"3%",marginBottom:"3%"}}),a&&i.a.createElement(Z,{question:t,note:n,score:r,saveApplication:o,submitApplication:l}))},re=function(e){var t=e.question,n=e.note,r=e.score,a=e.isInterviewer,o=e.tabKey,l=e.setTabKey,c=e.finalQuestionId,u=e.saveApplication,s=e.submitApplication,p=null;switch(t.uid){case"overview":p=function(){return i.a.createElement(ee,{question:t,isInterviewer:a})};break;case"resume":p=function(){return i.a.createElement(te,{question:t,note:n,score:r,isInterviewer:a,saveApplication:u})};break;case"finalNotes":p=function(){return i.a.createElement(ne,{question:t,note:n,score:r,isInterviewer:a,saveApplication:u,submitApplication:s})};break;default:p=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X,null,t.name),t.image&&i.a.createElement("img",{src:t.image,alt:t.name}),i.a.createElement(V,null,t.description),i.a.createElement("hr",{style:{marginTop:"3%",marginBottom:"3%"}}),a&&i.a.createElement(Z,{question:t,note:n,score:r,saveApplication:u}))}}return i.a.createElement(G.Pane,{eventKey:""+t.order},i.a.createElement(p,null),i.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},i.a.createElement(H.i,{paddingTop:"0.5%",paddingRight:"2%",paddingBottom:"0.5%",paddingLeft:"2%",disabled:-1===o,onClick:function(){return l(""+(o-1))}},"Previous"),i.a.createElement(H.i,{paddingTop:"0.5%",paddingRight:"2%",paddingBottom:"0.5%",paddingLeft:"2%",disabled:o===c,onClick:function(){return l(""+(o+1))}},"Next")))},ie=Object(v.b)(Q.a.Link).withConfig({displayName:"InterviewRoom__StyledLink",componentId:"sc-1p8e9g8-0"})(['font-size:1.5rem;color:#f21131;&[aria-selected="true"]{font-weight:bold;}&:hover{color:#600613;text-decoration:underline;}&::before{content:"','";}'],(function(e){return 1===e.intervieweeon?"ðŸ‘ï¸ ":""})),ae=Object(r.memo)((function(e){var t=e.currentApplication,n=e.questions,l=e.isApplicant,u=e.saveApplication,s=e.submitApplication,d=window.localStorage.getItem("current-tab-key"),m=Object(r.useState)(d||"-1"),f=m[0],v=m[1],b=Object(r.useContext)(a.AuthUserContext);Object(r.useEffect)((function(){l||(window.onbeforeunload=function(e){return(e=e||window.event)&&(e.returnValue="Any string"),"Any string"})}),[l]),Object(r.useEffect)((function(){l&&u(f)}),[]);var w=function(e){window.localStorage.setItem("current-tab-key",e),v(e),l&&u(e)},h=t.interview,y=h.intervieweeOn,E=h.notes,x=h.scores,O=(null==E?void 0:E[b.uid])||n.reduce((function(e,t){return e[t.uid]="",e}),{resume:"",finalNotes:""}),j=(null==x?void 0:x[b.uid])||n.reduce((function(e,t){return e[t.uid]=0,e}),{resume:0,finalNotes:0}),A=function(){var e=Object(c.a)(p.a.mark((function e(n){var r,i,a,o,l,c,s,d,m,f,v,w;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.note,c=n.score,s=n.uid,d=g()(O,((r={})[s]={$set:l},r)),m=g()(j,((i={})[s]={$set:c},i)),f=g()(E||{},{$merge:(a={},a[b.uid]=d,a)}),v=g()(x||{},{$merge:(o={},o[b.uid]=m,o)}),w=g()(t.interview,{$merge:{notes:f,scores:v}}),e.next=8,u(w);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=e.question,n="Problem "+t.order;switch(t.uid){case"overview":n="Overview";break;case"resume":n="Resume";break;case"finalNotes":n="Submit"}var r=""+t.order;return i.a.createElement(Q.a.Item,null,i.a.createElement(ie,{eventKey:r,intervieweeon:l||y!==r?0:1},n))},C=b.roles.applicant?"0%":"7%";return i.a.createElement(G.Container,{activeKey:f,onSelect:w},i.a.createElement(M.a,null,i.a.createElement(Q.a,{style:{width:"100%",paddingLeft:C,alignItems:"center",justifyContent:"space-around"},activeKey:f},n.map((function(e){return i.a.createElement(r.Fragment,{key:e.uid},i.a.createElement(S,{question:e}),e.order<n.length-2&&i.a.createElement("span",{style:{fontSize:"2rem"}},">"))}))),i.a.createElement("hr",{style:{width:"100%",marginLeft:C}})),i.a.createElement(M.a,{style:{marginTop:"0.5%",marginLeft:C,padding:25}},i.a.createElement(G.Content,{style:{width:"100%"}},n.map((function(e){return i.a.createElement(re,{key:e.uid,question:e,note:O[e.uid],score:j[e.uid],isInterviewer:Object(o.e)(b),saveApplication:A,submitApplication:s,tabKey:parseInt(f),setTabKey:w,finalQuestionId:n.length-2})})))))}));ae.defaultProps={currentApplication:{interview:{}}};var oe=ae,le=v.b.div.withConfig({displayName:"Stopwatch__Wrapper",componentId:"sc-16y4vs2-0"})(["font-family:Georgia;font-size:2rem;display:flex;top:10px;right:10px;z-index:9;opacity:0.75;"]),ce=v.b.p.withConfig({displayName:"Stopwatch__TimeDisplay",componentId:"sc-16y4vs2-1"})(["padding:5px;color:"," !important;border:"," !important;text-decoration:"," !important;"],(function(e){return e.overtime?"red":"black"}),(function(e){return e.overtime?"2px solid red":"none"}),(function(e){return e.overtime?"underline":"none"})),ue=function(e){return e.toString().padStart(2,0)},se=Object(h.a)((function(e){var t,n,a=e.startTime,o=e.limit,l=e.settings,c=Object(r.useState)(Date.now()-a),u=c[0],s=c[1],p=o;return o||(p=l.timeslotLength),Object(r.useEffect)((function(){var e=setInterval((function(){return s(Date.now()-a)}),1e3);return function(){return clearInterval(e)}}),[a]),i.a.createElement(le,{style:{paddingLeft:"7%"}},i.a.createElement(ce,{overtime:(t=u,n=Math.round(t/1e3),parseInt(n/60)>=p)},"Time Elapsed: ",function(e){var t=Math.round(e/1e3),n=parseInt(t/3600);t%=3600;var r=parseInt(t/60);return t%=60,ue(n)+":"+ue(r)+":"+ue(t)}(u)))})),pe=n("kT3S"),de=n("xkma"),me=v.b.ul.withConfig({displayName:"InterviewerView__Sidebar",componentId:"sc-1oz1dj1-0"})(["font-family:Georgia;max-width:300px;padding:15px;background:#333333;margin-left:1%;margin-right:1%;list-style-type:none;border-radius:25px;h1{color:white;text-align:center;font-style:italic;border-bottom:1px solid grey;}"]),fe=v.b.li.withConfig({displayName:"InterviewerView__StyledLi",componentId:"sc-1oz1dj1-1"})(["cursor:pointer;color:#f21131;font-weight:bold;padding-top:10px;padding-bottom:10px;border-bottom:1px solid grey;&:hover{color:#f21131;text-decoration:underline;}"]),ve=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._initFirebase=!1,t.state={loading:!0,timeslots:[],questions:[],currentApplication:null,levelConfig:{},textSettings:{}},t.unsubTextSettings=null,t.unsubTimeslots=null,t.unsubCurrentApplication=null,t.loadData=Object(c.a)(p.a.mark((function e(){var n,r,i,a,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._initFirebase=!0,n=t.context,null!==(r=JSON.parse(localStorage.getItem("currentApplication")))&&t.fetchApplication(r.uid),e.next=6,t.props.firebase.questions().get().then((function(e){return e.docs.map((function(e){return Object.assign({},e.data(),{uid:e.id})}))}));case 6:return i=e.sent,e.next=9,t.props.firebase.levelConfig().get().then((function(e){return e.exists?e.data():(console.log("LevelConfig does not exist!"),{})}));case 9:return a=e.sent,e.next=12,new Promise((function(e,n){var r=function(t){r=function(){return null},e(t)};t.unsubTextSettings=t.props.firebase.textSettings().onSnapshot((function(e){if(e.exists){var n=e.data();t.setState({textSettings:n}),r(n)}else console.log("Failed to load textSettings!")}),n)}));case 12:return o=e.sent,e.next=15,new Promise((function(e,r){var i=function(t){i=function(){return null},e(t)};t.unsubTimeslots=t.props.firebase.timeslots().onSnapshot((function(e){var r=e.docs.map((function(e){return Object.assign({},e.data(),{time:new Date(e.data().time),uid:e.id})})).filter((function(e){return e.interviewers.hasOwnProperty(n.uid)}));t.setState({timeslots:r}),i(r)}),r)}));case 15:l=e.sent,t.setState({questions:i,levelConfig:a,textSettings:o,timeslots:l,loading:!1});case 17:case"end":return e.stop()}}),e)}))),t.fetchApplication=function(e){e&&("function"==typeof t.unsubCurrentApplication&&t.unsubCurrentApplication(),t.unsubCurrentApplication=t.props.firebase.application(e).onSnapshot((function(e){var n,r,i,a,o,l,c,u,s,p;if(!e.exists)return console.log("Application not found!");var d=Object.assign({},e.data(),{uid:e.id});t.state.currentApplication&&t.state.currentApplication.uid===d.uid&&m()(null===(n=t.state.currentApplication)||void 0===n||null===(r=n.interview)||void 0===r||null===(i=r.notes)||void 0===i?void 0:i[t.context.uid],null==d||null===(a=d.interview)||void 0===a||null===(o=a.notes)||void 0===o?void 0:o[t.context.uid])&&m()(null===(l=t.state.currentApplication)||void 0===l||null===(c=l.interview)||void 0===c||null===(u=c.scores)||void 0===u?void 0:u[t.context.uid],null==d||null===(s=d.interview)||void 0===s||null===(p=s.scores)||void 0===p?void 0:p[t.context.uid])||(t.setState({currentApplication:d}),localStorage.setItem("currentApplication",JSON.stringify(d)),window.onbeforeunload=null)})))},t.saveLevel=function(){var e=Object(c.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.firebase.application(t.state.currentApplication.uid).update({interview:Object.assign({},t.state.currentApplication.interview,{level:n,startedAt:Date.now()})});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.saveApplication=function(){var e=Object(c.a)(p.a.mark((function e(n){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.firebase.firestore.runTransaction(function(){var e=Object(c.a)(p.a.mark((function e(r){var i,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.props.firebase.application(t.state.currentApplication.uid),e.next=3,r.get(i);case 3:a=e.sent,Object.assign({},a.data()),(o={})["interview.notes."+t.context.uid]=n.notes[t.context.uid],o["interview.scores."+t.context.uid]=n.scores[t.context.uid],r.update(i,o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Transaction failure!",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),t.submitApplication=Object(c.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.firebase.firestore.runTransaction(function(){var e=Object(c.a)(p.a.mark((function e(n){var r,i,a,o,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.props.firebase.application(t.state.currentApplication.uid),e.next=3,n.get(i);case 3:a=e.sent,o=Object.assign({},a.data()),l=g()(o.interview.interviewers||{},{$merge:(r={},r[t.context.uid]=t.context.name,r)}),c=2===Object.keys(l).length?g()(o.interview,{$merge:{interviewed:!0,interviewers:l}}):g()(o.interview,{$merge:{interviewers:l}}),n.update(i,{interview:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:window.onbeforeunload=null,window.localStorage.removeItem("currentApplication"),window.localStorage.removeItem("current-tab-key"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Transaction failure!",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t}Object(u.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.firebase&&!this._initFirebase&&this.loadData()},n.componentDidUpdate=function(e){this.props.firebase&&!this._initFirebase&&this.loadData()},n.componentWillUnmount=function(){"function"==typeof this.unsubTextSettings&&this.unsubTextSettings(),"function"==typeof this.unsubTimeslots&&this.unsubTimeslots(),"function"==typeof this.unsubCurrentApplication&&this.unsubCurrentApplication()},n.render=function(){var e=this,t=this.state,n=t.textSettings,r=t.timeslots,a=t.loading,o=t.currentApplication,c=t.levelConfig,u=t.questions;if(a)return i.a.createElement(pe.a,null);var s=function(t){var a=t.questions;if(o){if(!o.interview.hasOwnProperty("level"))return i.a.createElement(A,{levels:Object.keys(c),saveLevel:e.saveLevel});var u={};c[o.interview.level].forEach((function(e){u[e.uid]=e.order}));var s=Math.max.apply(Math,Object(l.a)(Object.values(u))),p=a.filter((function(e){return u.hasOwnProperty(e.uid)})).map((function(e){return Object.assign({},e,{order:u[e.uid]+1})})).concat([{uid:"overview",order:-1,overview:n.interviewOverviewText,interviewerNotes:n.interviewInterviewerNotesText},{uid:"resume",order:0,url:o.responses.find((function(e){return"resume"===e.uid})).value,notes:n.interviewResumeNotesText},{uid:"finalNotes",order:s+2,title:"Submit Interview",text:n.interviewFinalNotesInterviewerText}]).sort((function(e,t){return e.order>t.order?1:-1}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,null),i.a.createElement(H.k,null,i.a.createElement("h1",null,"Interview Room")),!o.interview.interviewed&&i.a.createElement(se,{startTime:o.interview.startedAt,limit:r.find((function(e){var t;return(null===(t=e.applicant)||void 0===t?void 0:t.uid)===(null==o?void 0:o.uid)})).timeslotLength}),i.a.createElement(oe,{style:{marginLeft:"7%"},currentApplication:o,questions:p,saveApplication:e.saveApplication,submitApplication:e.submitApplication}))}return i.a.createElement(x.b,{name:"Interview Room",text:"Please select an interview timeslot.",displayBack:!0})};return i.a.createElement(H.e,{fluid:!0,flexdirection:"row"},i.a.createElement(me,null,i.a.createElement("h1",null,"Interviews"),r.sort((function(e,t){return e.time.getTime()===t.time.getTime()?e.applicant.name>t.applicant.name?1:-1:e.time>t.time?1:-1})).map((function(t){var n,r;return i.a.createElement(fe,{key:t.uid,selected:(null===(n=t.applicant)||void 0===n?void 0:n.uid)===(null==o?void 0:o.uid),onClick:function(){var n;return e.fetchApplication(null===(n=t.applicant)||void 0===n?void 0:n.uid)}},i.a.createElement("strong",null,(null===(r=t.applicant)||void 0===r?void 0:r.name)||"No applicant"),i.a.createElement("br",null),Object(de.a)(t.time)," ",t.time.toDateString())}))),i.a.createElement(w.a,{style:{padding:25}},i.a.createElement(s,{questions:u,settings:this.props.settings,textSettings:n})))},t}(r.Component);ve.contextType=a.AuthUserContext;var be=Object(f.a)(h.a,Object(a.withAuthorization)(o.e),a.withFirebase)(ve),ge=n("F7AD"),we=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._initFirebase=!1,t.state={loading:!0,questions:[],currentApplication:{interview:{}},levelConfig:{},textSettings:{}},t.unsubTextSettings=null,t.unsubCurrentApplication=null,t.loadData=Object(c.a)(p.a.mark((function e(){var n,r,i,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._initFirebase=!0,n=t.context,e.next=4,t.props.firebase.questions().get().then((function(e){return e.docs.map((function(e){var t=e.data();return{name:t.name,image:t.image,description:t.description,uid:e.id}}))}));case 4:return r=e.sent,e.next=7,t.props.firebase.levelConfig().get().then((function(e){return e.exists?e.data():(console.log("LevelConfig does not exist!"),{})}));case 7:return i=e.sent,e.next=10,new Promise((function(e,n){var r=function(t){r=function(){return null},e(t)};t.unsubTextSettings=t.props.firebase.textSettings().onSnapshot((function(e){if(e.exists){var n=e.data();t.setState({textSettings:n}),r(n)}else console.log("Failed to load textSettings!")}),n)}));case 10:return a=e.sent,e.next=13,new Promise((function(e,r){var i=function(t){i=function(){return null},e(t)};t.unsubCurrentApplication=t.props.firebase.application(n.uid).onSnapshot((function(e){if(e.exists){var n=e.data();t.setState({currentApplication:n}),i(n)}else console.log("Failed to load currentApplication!")}),r)}));case 13:o=e.sent,t.setState({questions:r,levelConfig:i,textSettings:a,currentApplication:o,loading:!1});case 15:case"end":return e.stop()}}),e)}))),t.setIntervieweeOn=function(){var e=Object(c.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g()(t.state.currentApplication.interview||{},{$merge:{intervieweeOn:n}}),e.next=3,t.props.firebase.application(t.context.uid).update({interview:r});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}Object(u.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.firebase&&!this._initFirebase&&this.loadData()},n.componentDidUpdate=function(e){this.props.firebase&&!this._initFirebase&&this.loadData()},n.componentWillUnmount=function(){"function"==typeof this.unsubTextSettings&&this.unsubTextSettings(),"function"==typeof this.unsubCurrentApplication&&this.unsubCurrentApplication()},n.shouldComponentUpdate=function(e,t){var n,r,i,a,o=null===(n=this.state)||void 0===n||null===(r=n.currentApplication)||void 0===r?void 0:r.interview,l=null==t||null===(i=t.currentApplication)||void 0===i?void 0:i.interview;return(null===(a=this.state)||void 0===a?void 0:a.loading)!==(null==t?void 0:t.loading)||(o.interviewed!==l.interviewed||o.level!==l.level)},n.render=function(){var e=this,t=this.state,n=t.textSettings,r=t.loading,a=t.currentApplication,o=t.levelConfig,l=t.questions;if(r)return i.a.createElement(pe.a,null);var c=function(){var t;if(null!=a&&null!==(t=a.interview)&&void 0!==t&&t.interviewed)return window.localStorage.removeItem("currentApplication"),window.localStorage.removeItem("current-tab-key"),i.a.createElement(H.j,null,i.a.createElement(ge.a,{size:"large"}),i.a.createElement("p",null," ",n.interviewFinalNotesApplicantText," "));if(a.interview.hasOwnProperty("level")){var r={};o[a.interview.level].forEach((function(e){r[e.uid]=e.order}));var c=l.filter((function(e){return r.hasOwnProperty(e.uid)})).map((function(e){return Object.assign({},e,{order:r[e.uid]+1})})).concat([{uid:"overview",order:-1,overview:n.interviewOverviewText,interviewerNotes:n.interviewInterviewerNotesText},{uid:"resume",order:0,url:a.responses.find((function(e){return"resume"===e.uid})).value,notes:n.interviewResumeNotesText}]).sort((function(e,t){return e.order>t.order?1:-1}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(oe,{questions:c,isApplicant:!0,saveApplication:e.setIntervieweeOn}))}return i.a.createElement(H.j,null,i.a.createElement(ge.a,{size:"large"}),i.a.createElement("p",{style:{marginTop:"5%"}}," ",n.interviewWelcomeText," "),e.props.settings.remoteInterview&&i.a.createElement("p",null," ","Join the Zoom ",i.a.createElement("a",{href:e.props.settings.zoomlink},"here"),"!"," "))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,null),i.a.createElement(H.k,null,i.a.createElement("h1",null,"Interview Room")),i.a.createElement(H.l,{paddingRight:"15%",paddingLeft:"15%",paddingTop:"80px",paddingBottom:"100px"},i.a.createElement(H.c,{fluid:!0,flexdirection:"column"},i.a.createElement(c,null))))},t}(r.Component);we.contextType=a.AuthUserContext;var he=Object(f.a)(h.a,Object(a.withAuthorization)(o.b),a.withFirebase)(we),ye=n("EYWl");t.default=function(){var e=Object(r.useContext)(a.AuthUserContext);return i.a.createElement(i.a.Fragment,null,i.a.createElement(ye.a,{title:"Interview",route:"/room"}),Object(o.e)(e)?i.a.createElement(be,null):i.a.createElement(he,null))}}}]);
//# sourceMappingURL=component---src-pages-room-js-033aa8aca38d5fc81356.js.map